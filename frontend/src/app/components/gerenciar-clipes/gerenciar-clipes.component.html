<div class="modal-backdrop">
  <div class="modal-container">
    <div class="modal-header">
      <h3>Gerenciar Armazenamento</h3>
      <span class="fechar" (click)="fecharModal()">✖</span>
    </div>
    <p class="descricao">Visualize e gerencie os clipes armazenados</p>

    <!-- Barra de armazenamento -->
    <div class="barra-container">
      <div class="barra">
        <div class="progresso" [style.width.%]="storagePercent"></div>
      </div>
      <div class="info">
        <span>Usado</span>
        <strong>{{ storageUsed.toFixed(2) }} GB de {{ storageTotal }} GB</strong>
      </div>
      <p>{{ (storageTotal - storageUsed).toFixed(2) }} GB disponíveis</p>
    </div>

    <!-- Ações -->
    <div class="acoes">
      <button class="btn-vermelho" (click)="limparTudo()">Limpar Tudo</button>
      <button class="btn-vermelho" [disabled]="selecionadosCount===0" (click)="limparSelecionados()">
        Limpar Selecionados ({{ selecionadosCount }})
      </button>
      <button class="btn-selecionar" (click)="toggleSelecionarTodos()">Selecionar Todos</button>
    </div>

    <!-- Lista de clipes -->
    <div class="lista-clipes">
      <div class="clip" *ngFor="let clip of clipsPaginados">
        <input type="checkbox" [(ngModel)]="clip.selecionado" />
        <div class="info-clip">
          <strong>{{ clip.titulo }}</strong>
          <span>{{ clip.data }} • {{ clip.tamanho }}</span>
        </div>
      </div>
    </div>

    <!-- Paginação -->
    <div class="paginacao-container" *ngIf="clips.length > 0">


      <button class="btn-paginacao" (click)="paginaAnterior()" [disabled]="paginaAtual === 1">
        Anterior
      </button>

      <span class="pagina-info">{{ paginaAtual }} de {{ totalPaginas }}</span>

      <button class="btn-paginacao" (click)="proximaPagina()" [disabled]="paginaAtual === totalPaginas">
        Próximo
      </button>

      <div class="menu-itens">
        <button class="menu-btn" (click)="toggleDropdown()">
          <i class="bi bi-list"></i>
        </button>

        <div class="dropdown-itens" [style.display]="mostrarDropdown ? 'flex' : 'none'">
          <label>Itens por página</label>
          <select [value]="itensPorPagina" (change)="mudarItensPorPagina($event)">
            <option [value]="5">5</option>
            <option [value]="10">10</option>
            <option [value]="20">20</option>
          </select>
        </div>
      </div>
    </div>
  </div>
</div>
